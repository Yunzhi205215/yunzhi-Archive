/* —— 可爱圆角 + 柔和阴影（安全版，全站图片都适用） —— */
.post-content img {
  border-radius: 16px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

/* 鼠标悬停时微微放大 */
.post-content img:hover {
  transform: scale(1.03);
  box-shadow: 0 6px 14px rgba(0,0,0,0.16);
  cursor: pointer;
}

/* selected text color */
::selection {
  background: #ffe8a3;   /* 柔和烛火黄 */
  color: #5c3d00;        /* 深褐色文字，像烛火映照下的纸 */
}

/* 2) 链接“烛火光” */
a:hover {
  color: #8b5cf6 !important; /* 紫一点 */
  text-shadow: 0 0 8px rgba(255, 208, 120, 0.55);
  transition: color .2s, text-shadow .2s;
}

/* 烛火呼吸光：覆盖 PaperMod 的多种标题结构 */
.post-content h1,
.post-title,
.post-title a,
.page-title,
.home-info h1 {
  background: linear-gradient(90deg, #ffb347, #ffd60a, #ff9e2c);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; /* 关键：让渐变成为文字填充 */
  color: #ffb347; /* 非 WebKit 兜底色 */
  text-shadow: 0 0 8px rgba(255, 214, 10, 0.28),
               0 0 18px rgba(255, 180, 71, 0.18);
  animation: candle-breathe 3.2s ease-in-out infinite;
}

/* 若链接状态覆盖了文字颜色，可用更具体选择器兜底 */
.post-title a:hover, .post-title a:focus {
  -webkit-text-fill-color: transparent;
}

@keyframes candle-breathe {
  0%, 100% {
    filter: brightness(1);
    text-shadow: 0 0 8px rgba(255, 214, 10, 0.28),
                 0 0 18px rgba(255, 180, 71, 0.18);
  }
  50% {
    filter: brightness(1.1);
    text-shadow: 0 0 14px rgba(255, 214, 10, 0.5),
                 0 0 30px rgba(255, 180, 71, 0.3);
  }
}

/* 尊重系统“减少动效”偏好 */
@media (prefers-reduced-motion: reduce) {
  .post-content h1,
  .post-title,
  .post-title a,
  .page-title,
  .home-info h1 { animation: none; }
}


/* 背景效果：浅金色星屑 · 闪烁 + 流动 */
html::before,
html::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 999;
  mix-blend-mode: lighten;
  background-repeat: repeat;
}

/* 层A：闪烁 + 水平漂移 */
html::before {
  background-image:
    radial-gradient(3.5px 3.5px at 20% 30%, rgba(255, 214, 10, 0.40) 50%, transparent 51%),
    radial-gradient(3.2px 3.2px at 70% 25%, rgba(255, 184, 0, 0.36) 50%, transparent 51%),
    radial-gradient(2.8px 2.8px at 40% 80%, rgba(255, 235, 150, 0.42) 50%, transparent 51%);
  background-size: 240px 240px, 300px 300px, 200px 200px;
  animation: twinkleA 3.5s ease-in-out infinite alternate,
             driftA 70s linear infinite;   /* ⭐ 新增水平漂移 */
}

/* 层B：闪烁 + 垂直漂移 + 柔光 */
html::after {
  background-image:
    radial-gradient(3px 3px at 15% 65%, rgba(255, 214, 10, 0.34) 50%, transparent 51%),
    radial-gradient(3px 3px at 85% 40%, rgba(255, 184, 0, 0.30) 50%, transparent 51%),
    radial-gradient(2.6px 2.6px at 55% 15%, rgba(255, 235, 150, 0.36) 50%, transparent 51%);
  background-size: 260px 260px, 340px 340px, 220px 220px;
  animation: twinkleB 4.2s ease-in-out infinite alternate-reverse,
             driftB 100s linear infinite;  /* ⭐ 新增垂直漂移 */
  filter: blur(0.6px);
}

/* 闪烁 */
@keyframes twinkleA { 0%{opacity:.35} 100%{opacity:1} }
@keyframes twinkleB { 0%{opacity:.30} 100%{opacity:.95} }

/* 漂移 */
@keyframes driftA {
  0%   { transform: translateX(0); }
  50%  { transform: translateX(25px); }
  100% { transform: translateX(0); }
}
@keyframes driftB {
  0%   { transform: translateY(0); }
  50%  { transform: translateY(20px); }
  100% { transform: translateY(0); }
}

/* 减少动效设置时禁用动画 */
@media (prefers-reduced-motion: reduce) {
  html::before, html::after { animation: none !important; }
}

/* 章节底部导航栏 */
.chapter-nav {
  margin-top: 2rem;
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  font-weight: 600;
}

.chapter-nav a {
  text-decoration: none;
  color: inherit;
}

.chapter-nav a:hover {
  text-shadow: 0 0 6px rgba(255, 208, 120, 0.6); /* 烛火光感 */
}



/* 主光点：魔女紫五角星 + 银紫光晕 */
.cursor-stars .star {
  position: fixed;
  width: 10px;
  height: 10px;
  transform: translate(-50%, -50%) rotate(45deg);
  mix-blend-mode: lighten;
  background: radial-gradient(circle,
    #f3e8ff 0%,   /* 很浅的薰衣草白 */
    #c19cff 45%,  /* 柔紫高光 */
    rgba(193,156,255,0) 70%
  );
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%,
    68% 57%, 79% 91%, 50% 70%,
    21% 91%, 32% 57%, 2% 35%,
    39% 35%
  );
  filter: drop-shadow(0 0 6px rgba(147, 92, 255, 0.9))   /* 紫色光晕 */
          drop-shadow(0 0 12px rgba(203, 178, 255, 0.5));/* 银紫外环 */
  pointer-events: none;
  z-index: 2001;
}

/* 火花：更细小的紫色星点，扩散消失 */
.cursor-stars .spark {
  position: fixed;
  width: 7px;
  height: 7px;
  transform: translate(-50%, -50%) rotate(45deg);
  mix-blend-mode: lighten;
  background: radial-gradient(circle,
    #ede0ff 0%,
    #b388eb 50%,
    rgba(179,136,235,0) 80%
  );
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%,
    68% 57%, 79% 91%, 50% 70%,
    21% 91%, 32% 57%, 2% 35%,
    39% 35%
  );
  animation: spark-fade 900ms ease-out forwards; /* 稍久一点，尾焰更明显 */
  filter: drop-shadow(0 0 6px rgba(147, 92, 255, 0.85));
  pointer-events: none;
  z-index: 2000;
}

@keyframes spark-fade {
  0%   { opacity: 1;   transform: translate(-50%, -50%) scale(0.6) rotate(45deg); }
  100% { opacity: 0;   transform: translate(-50%, -50%) scale(1.7) rotate(45deg); }
}